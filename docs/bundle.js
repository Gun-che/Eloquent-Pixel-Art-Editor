!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var r=function(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(t,n){for(var e,o,i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];var c=document.createElement(t);n&&Object.assign(c,n);try{for(var a=r(i),l=a.next();!l.done;l=a.next()){var f=l.value;"string"!=typeof f?c.appendChild(f):c.appendChild(document.createTextNode(f))}}catch(t){e={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(e)throw e.error}}return c},i=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},u=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(i(arguments[n]));return t},c=function(){function t(t,n){var e=n.dispatch;this.dom=o("button",{onclick:function(){return e({undo:!0})},disabled:0===t.done.length},"‚Æ™  –û—Ç–º–µ–Ω–∏—Ç—å")}return t.prototype.syncState=function(t){this.dom.disabled=0===t.done.length},t}(),a=function(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(){function t(t,n,e){this.width=t,this.height=n,this.pixels=e}return t.empty=function(n,e,r){return new t(n,e,new Array(n*e).fill(r))},t.prototype.pixel=function(t,n){return this.pixels[t+n*this.width]},t.prototype.draw=function(n){var e,r,o=this.pixels.slice();try{for(var i=a(n),u=i.next();!u.done;u=i.next()){var c=u.value,l=c.x,f=c.y,d=c.color;o[l+f*this.width]=d}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return new t(this.width,this.height,o)},t}(),f=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},d=function(){function t(t,n){var e=n.dispatch;this.dom=o("button",{onclick:function(){return function(t){var n=o("input",{type:"file",onchange:function(){return function(t,n){if(null===t)return;var e=new FileReader;e.addEventListener("load",(function(){var t=o("img",{onload:function(){return n({picture:s(t)})},src:e.result})})),e.readAsDataURL(t)}(n.files[0],t)}});document.body.appendChild(n),n.click(),n.remove()}(e)}},"üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å: ")}return t.prototype.syncState=function(){},t}();function s(t){var n=Math.min(100,t.width),e=Math.min(100,t.height),r=o("canvas",{width:n,height:e}).getContext("2d");r.drawImage(t,0,0);var i=[],u=r.getImageData(0,0,n,e).data;function c(t){return t.toString(16).padStart(2,"0")}for(var a=0;a<u.length;a+=4){var d=f(u.slice(a,a+3),3),s=d[0],h=d[1],y=d[2];i.push("#"+c(s)+c(h)+c(y))}return new l(n,e,i)}var h=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},y=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(h(arguments[n]));return t},p=function(){function t(t,n){var e=this,r=n.tools,i=n.dispatch;this.select=o.apply(void 0,y(["select",{onchange:function(){return i({tool:e.select.value})}}],Object.keys(r).map((function(n){return o("option",{selected:n===t.tool},n)})))),this.dom=o("label",null,"üñå –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:",this.select)}return t.prototype.syncState=function(t){this.select.value=t.tool},t}(),v=function(){function t(t,n){var e=this,r=n.dispatch;this.input=o("input",{type:"color",value:t.color,onchange:function(){return r({color:e.input.value})}}),this.dom=o("label",null,"üé® –¶–≤–µ—Ç:",this.input)}return t.prototype.syncState=function(t){this.input.value=t.color},t}(),m=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}],b=function(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},x=function(t,n,e){n.width=t.width*e,n.height=t.height*e;for(var r=n.getContext("2d"),o=0;o<t.height;o++)for(var i=0;i<t.width;i++)r.fillStyle=t.pixel(i,o),r.fillRect(i*e,o*e,e,e)},g=function(){function t(t,n){var e=this;this.dom=o("canvas",{onmousedown:function(t){return e.mouse(t,n)},ontouchstart:function(t){return e.touch(t,n)}}),this.syncState(t)}return t.prototype.syncState=function(t){this.picture!==t&&(this.picture=t,x(this.picture,this.dom,10))},t.prototype.mouse=function(t,n){var e=this;if(0==t.button){var r=w(t,this.dom),o=n(r);if(o){var i=function(t){if(0==t.buttons)e.dom.removeEventListener("mousemove",i);else{var n=w(t,e.dom);if(n.x==r.x&&n.y==r.y)return;r=n,o(n)}};this.dom.addEventListener("mousemove",i)}}},t.prototype.touch=function(t,n){var e=this,r=w(t.touches[0],this.dom),o=n(r);if(t.preventDefault(),o){var i=function(t){var n=w(t.touches[0],e.dom);n.x===r.x&&n.y===r.y||(r=n,o(n))},u=function(){e.dom.removeEventListener("touchmove",i),e.dom.removeEventListener("touchend",u)};this.dom.addEventListener("touchmove",i),this.dom.addEventListener("touchend",u)}},t}();function w(t,n){var e=n.getBoundingClientRect();return{x:Math.floor((t.clientX-e.left)/10),y:Math.floor((t.clientY-e.top)/10)}}var S=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u},j=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(S(arguments[n]));return t},O=function(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(){function t(t,n){var e=this,r=n.tools,i=n.controls,u=n.dispatch;this.state=t,this.canvas=new g(t.picture,(function(t){var n=(0,r[e.state.tool])(t,e.state,u);if(n)return function(t){return n(t,e.state)}})),this.controls=i.map((function(e){return new e(t,n)})),this.dom=o.apply(void 0,j(["div",{},this.canvas.dom,o("br",{})],this.controls.reduce((function(t,n){return t.concat(" ",n.dom)}),[])))}return t.prototype.syncState=function(t){var n,e;this.state=t,this.canvas.syncState(t.picture);try{for(var r=O(this.controls),o=r.next();!o.done;o=r.next()){o.value.syncState(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}},t}(),M=function(){function t(t){var n=this;this.picture=t.picture,this.dom=o("button",{onclick:function(){return n.save()}},"üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: ")}return t.prototype.save=function(){var t=o("canvas",{});x(this.picture,t,1);var n=o("a",{href:t.toDataURL(),download:"pixelart.png"});document.body.appendChild(n),n.click(),n.remove()},t.prototype.syncState=function(t){this.picture=t.picture},t}(),L={tool:"draw",color:"#000000",picture:l.empty(60,30,"#f0f0f0"),done:[],doneAt:0},C={draw:function(t,n,e){function r(t,n){var r={x:t.x,y:t.y,color:n.color};e({picture:n.picture.draw([r])})}return r(t,n),r},fill:function(t,n,e){for(var r,o,i=t.x,u=t.y,c=n.picture.pixel(i,u),a=[{x:i,y:u,color:n.color}],l=0;l<a.length;l++){var f=function(t,e){var r=a[l].x+t,o=a[l].y+e;r>=0&&r<n.picture.width&&o>=0&&o<n.picture.height&&n.picture.pixel(r,o)===c&&!a.some((function(t){return t.x===r&&t.y===o}))&&a.push({x:r,y:o,color:n.color})};try{for(var d=(r=void 0,b(m)),s=d.next();!s.done;s=d.next()){var h=s.value;f(h.dx,h.dy)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}e({picture:n.picture.draw(a)})},rectangle:function(t,n,e){function r(r){for(var o=Math.min(t.x,r.x),i=Math.min(t.y,r.y),u=Math.max(t.x,r.x),c=Math.max(t.y,r.y),a=[],l=i;l<=c;l++)for(var f=o;f<=u;f++)a.push({x:f,y:l,color:n.color});e({picture:n.picture.draw(a)})}return r(t),r},pick:function(t,n,e){e({color:n.picture.pixel(t.x,t.y)})}},k=[p,v,M,d,c];document.querySelector("div").appendChild(function(t){t.state;var n=t.tools,e=void 0===n?C:n,r=t.controls,o=new E(L,{tools:e,controls:void 0===r?k:r,dispatch:function(t){L=function(t,n){return!0===n.undo?0===t.done.length?t:Object.assign({},t,{picture:t.done[0],done:t.done.slice(1),doneAt:0}):n.picture&&t.doneAt<Date.now()-1e3?Object.assign({},t,n,{done:u([t.picture],t.done),doneAt:Date.now()}):Object.assign({},t,n)}(L,t),o.syncState(L)}});return o.dom}({}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2VsdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGlzdG9yeS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9QaWN0dXJlLnRzIiwid2VicGFjazovLy8uL3NyYy9TYXZlQW5kTG9hZC9Mb2FkLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1Rvb2xzL1Rvb2xTZWxlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvVG9vbHMvQ29sb3JTZWxlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZHJhd1BpY3R1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvQ2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1BpeGVsRWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9TYXZlQW5kTG9hZC9TYXZlLnRzIiwid2VicGFjazovLy8uL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1Rvb2xzL2RyYXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvVG9vbHMvZmlsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Ub29scy9yZWN0YW5nbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvVG9vbHMvcGlja0NvbG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZWx0IiwidHlwZSIsInByb3BzIiwiZG9tIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXNzaWduIiwiY2hpbGRyZW4iLCJjaGlsZCIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJzdGF0ZSIsImRpc3BhdGNoIiwidGhpcyIsIm9uY2xpY2siLCJ1bmRvIiwiZGlzYWJsZWQiLCJkb25lIiwibGVuZ3RoIiwic3luY1N0YXRlIiwid2lkdGgiLCJoZWlnaHQiLCJwaXhlbHMiLCJlbXB0eSIsImNvbG9yIiwiUGljdHVyZSIsIkFycmF5IiwiZmlsbCIsInBpeGVsIiwieCIsInkiLCJkcmF3IiwiY29weSIsInNsaWNlIiwiXyIsImlucHV0Iiwib25jaGFuZ2UiLCJmaWxlIiwiZGlzcGFjdGgiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImltYWdlIiwib25sb2FkIiwicGljdHVyZSIsInBpY3R1cmVGcm9tSW1hZ2UiLCJzcmMiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZmluaXNoTG9hZCIsImZpbGVzIiwiYm9keSIsImNsaWNrIiwicmVtb3ZlIiwic3RhcnRMb2FkIiwiTWF0aCIsIm1pbiIsImN4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImRhdGEiLCJnZXRJbWFnZURhdGEiLCJoZXgiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZyIsImIiLCJwdXNoIiwidG9vbHMiLCJzZWxlY3QiLCJ0b29sIiwia2V5cyIsIm1hcCIsInNlbGVjdGVkIiwiYXJvdW5kIiwiZHgiLCJkeSIsImRyYXdQaWN0dXJlIiwiY2FudmFzIiwic2NhbGUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInBvaW50ZXJEb3duIiwib25tb3VzZWRvd24iLCJldmVudCIsIm1vdXNlIiwib250b3VjaHN0YXJ0IiwidG91Y2giLCJkb3duRXZlbnQiLCJvbkRvd24iLCJidXR0b24iLCJwb3MiLCJwb2ludGVyUG9zaXRpb24iLCJvbk1vdmUiLCJtb3ZlIiwibW92ZUV2ZW50IiwiYnV0dG9ucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJuZXdQb3MiLCJzdGFydEV2ZW50IiwidG91Y2hlcyIsInByZXZlbnREZWZhdWx0IiwiZW5kIiwiZG9tTm9kZSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJmbG9vciIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsImNvbmZpZyIsImNvbnRyb2xzIiwiQ29udHJvbCIsInJlZHVjZSIsImEiLCJjb25jYXQiLCJzYXZlIiwibGluayIsImhyZWYiLCJ0b0RhdGFVUkwiLCJkb3dubG9hZCIsImRvbmVBdCIsImJhc2VUb29scyIsImRyYXdQaXhlbCIsImRyYXduIiwidGFyZ2V0Q29sb3IiLCJzb21lIiwicmVjdGFuZ2xlIiwic3RhcnQiLCJkcmF3UmVjdGFuZ2xlIiwieFN0YXJ0IiwieVN0YXJ0IiwieEVuZCIsIm1heCIsInlFbmQiLCJwaWNrIiwiYmFzZUNvbnRyb2xzIiwicXVlcnlTZWxlY3RvciIsImFwcCIsImFjdGlvbiIsIkRhdGUiLCJub3ciLCJoaXN0b3J5VXBkYXRlU3RhdGUiLCJzdGFydFBpeGVsRWRpdG9yIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVB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QUFvQixJQUFoQkEsRUFBTzdILEtBRWdCLElBQXRCSixFQUFNTSxLQUFLQyxPQUNQUCxFQUVEakMsT0FBTzRCLE9BQU8sR0FBSUssRUFBTyxDQUMvQmlDLFFBQVNqQyxFQUFNTSxLQUFLLEdBQ3BCQSxLQUFNTixFQUFNTSxLQUFLZ0IsTUFBTSxHQUN2QnlGLE9BQVEsSUFHQ2tCLEVBQU9oRyxTQUFXakMsRUFBTStHLE9BQVNtQixLQUFLQyxNQUFRLElBQ2pEcEssT0FBTzRCLE9BQU8sR0FBSUssRUFBT2lJLEVBQVEsQ0FDdkMzSCxLQUFNLEVBQUYsQ0FBR04sRUFBTWlDLFNBQVlqQyxFQUFNTSxNQUMvQnlHLE9BQVFtQixLQUFLQyxRQUlQcEssT0FBTzRCLE9BQU8sR0FBSUssRUFBT2lJLEdVWXBCRyxDQUFtQixFQUFPSCxHQUNsQ0QsRUFBSXhILFVBQVUsTUFJbEIsT0FBT3dILEVBQUl4SSxJQUc2QjZJLENBQWlCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjb25zdCBlbHQgPSAodHlwZTogc3RyaW5nLCBwcm9wczogYW55LCAuLi5jaGlsZHJlbjogKHN0cmluZyB8IEhUTUxFbGVtZW50KVtdKSA9PiB7XHJcbiAgbGV0IGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XHJcblxyXG4gIGlmIChwcm9wcykgT2JqZWN0LmFzc2lnbihkb20sIHByb3BzKTtcclxuXHJcbiAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRyZW4pIHtcclxuXHJcbiAgICBpZiAodHlwZW9mIGNoaWxkICE9PSAnc3RyaW5nJykge1xyXG4gICAgICBkb20uYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZCkpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZG9tO1xyXG59IiwiaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi4vdXRpbHMvZWx0JztcclxuaW1wb3J0IHsgSVN0YXRlLCBJQWN0aW9uLCBJQ29uZmlnIH0gZnJvbSAnLi4vdHMvaW5kZXgnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGhpc3RvcnlVcGRhdGVTdGF0ZSA9IChzdGF0ZTogSVN0YXRlLCBhY3Rpb246IElBY3Rpb24pID0+IHtcclxuXHJcblx0aWYgKGFjdGlvbi51bmRvID09PSB0cnVlKSB7XHJcblxyXG5cdFx0aWYgKHN0YXRlLmRvbmUubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHJldHVybiBzdGF0ZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xyXG5cdFx0XHRwaWN0dXJlOiBzdGF0ZS5kb25lWzBdLFxyXG5cdFx0XHRkb25lOiBzdGF0ZS5kb25lLnNsaWNlKDEpLFxyXG5cdFx0XHRkb25lQXQ6IDAsXHJcblx0XHR9KTtcclxuXHJcblx0fSBlbHNlIGlmIChhY3Rpb24ucGljdHVyZSAmJiBzdGF0ZS5kb25lQXQgPCBEYXRlLm5vdygpIC0gMTAwMCkge1xyXG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24sIHtcclxuXHRcdFx0ZG9uZTogW3N0YXRlLnBpY3R1cmUsIC4uLnN0YXRlLmRvbmVdLFxyXG5cdFx0XHRkb25lQXQ6IERhdGUubm93KCksXHJcblx0XHR9KTtcclxuXHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBVbmRvQnV0dG9uIHtcclxuXHRkb206IEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzdGF0ZTogSVN0YXRlLCB7IGRpc3BhdGNoIH06IElDb25maWcpIHtcclxuXHRcdHRoaXMuZG9tID0gZWx0KCdidXR0b24nLCB7XHJcblx0XHRcdG9uY2xpY2s6ICgpID0+IGRpc3BhdGNoKHsgdW5kbzogdHJ1ZSB9KSxcclxuXHRcdFx0ZGlzYWJsZWQ6IHN0YXRlLmRvbmUubGVuZ3RoID09PSAwXHJcblx0XHR9LCAn4q6qICDQntGC0LzQtdC90LjRgtGMJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRzeW5jU3RhdGUoc3RhdGU6IElTdGF0ZSkge1xyXG5cdFx0dGhpcy5kb20uZGlzYWJsZWQgPSBzdGF0ZS5kb25lLmxlbmd0aCA9PT0gMDtcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBJUGl4ZWwgfSBmcm9tICcuLy4uL3RzL2luZGV4JztcclxuXHJcbmV4cG9ydCBjbGFzcyBQaWN0dXJlIHtcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG4gIHBpeGVsczogc3RyaW5nW11cclxuXHJcbiAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHBpeGVsczogc3RyaW5nW10pIHtcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgdGhpcy5waXhlbHMgPSBwaXhlbHM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZW1wdHkod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcpIHtcclxuICAgIGxldCBwaXhlbHMgPSBuZXcgQXJyYXkod2lkdGggKiBoZWlnaHQpLmZpbGwoY29sb3IpO1xyXG4gICAgcmV0dXJuIG5ldyBQaWN0dXJlKHdpZHRoLCBoZWlnaHQsIHBpeGVscyk7XHJcbiAgfVxyXG5cclxuICBwaXhlbCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIHRoaXMucGl4ZWxzW3ggKyB5ICogdGhpcy53aWR0aF07XHJcbiAgfVxyXG5cclxuICBkcmF3KHBpeGVsczogSVBpeGVsW10pIHtcclxuICAgIGxldCBjb3B5ID0gdGhpcy5waXhlbHMuc2xpY2UoKTtcclxuXHJcbiAgICBmb3IgKGxldCB7IHgsIHksIGNvbG9yIH0gb2YgcGl4ZWxzKSB7XHJcbiAgICAgIGNvcHlbeCArIHkgKiB0aGlzLndpZHRoXSA9IGNvbG9yO1xyXG5cclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgUGljdHVyZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgY29weSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUGljdHVyZSB9IGZyb20gJy4vLi4vQ29tcG9uZW50cy9QaWN0dXJlJztcclxuaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi8uLi91dGlscy9lbHQnO1xyXG5pbXBvcnQgeyBJQ29uZmlnLCBJRGlzcGF0Y2ggfSBmcm9tICcuLy4uL3RzL2luZGV4JztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2FkQnV0dG9uIHtcclxuICBkb206IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gIGNvbnN0cnVjdG9yKF86IGFueSwgeyBkaXNwYXRjaCB9OiBJQ29uZmlnKSB7XHJcbiAgICB0aGlzLmRvbSA9IGVsdCgnYnV0dG9uJywge1xyXG4gICAgICBvbmNsaWNrOiAoKSA9PiBzdGFydExvYWQoZGlzcGF0Y2gpLFxyXG4gICAgfSwgJ/Cfk4Eg0JfQsNCz0YDRg9C30LjRgtGMOiAnKSBhcyBIVE1MQnV0dG9uRWxlbWVudFxyXG4gIH1cclxuXHJcbiAgc3luY1N0YXRlKCkgeyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0YXJ0TG9hZChkaXNwYXRjaDogSURpc3BhdGNoKSB7XHJcbiAgbGV0IGlucHV0ID0gZWx0KCdpbnB1dCcsIHtcclxuICAgIHR5cGU6ICdmaWxlJyxcclxuICAgIG9uY2hhbmdlOiAoKSA9PiBmaW5pc2hMb2FkKGlucHV0LmZpbGVzWzBdLCBkaXNwYXRjaClcclxuICB9KSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gIGlucHV0LmNsaWNrKCk7XHJcbiAgaW5wdXQucmVtb3ZlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmlzaExvYWQoZmlsZTogRmlsZSwgZGlzcGFjdGg6IElEaXNwYXRjaCkge1xyXG5cclxuICBpZiAoZmlsZSA9PT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgIGxldCBpbWFnZSA9IGVsdCgnaW1nJywge1xyXG4gICAgICBvbmxvYWQ6ICgpID0+IGRpc3BhY3RoKHtcclxuICAgICAgICBwaWN0dXJlOiBwaWN0dXJlRnJvbUltYWdlKGltYWdlKVxyXG4gICAgICB9KSxcclxuICAgICAgc3JjOiByZWFkZXIucmVzdWx0XHJcbiAgICB9KSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIH0pO1xyXG4gIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBpY3R1cmVGcm9tSW1hZ2UoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpIHtcclxuICBsZXQgd2lkdGggPSBNYXRoLm1pbigxMDAsIGltYWdlLndpZHRoKTtcclxuICBsZXQgaGVpZ2h0ID0gTWF0aC5taW4oMTAwLCBpbWFnZS5oZWlnaHQpO1xyXG5cclxuICBsZXQgY2FudmFzID0gZWx0KCdjYW52YXMnLCB7IHdpZHRoLCBoZWlnaHQgfSkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gIGxldCBjeCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gIGN4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgbGV0IHBpeGVscyA9IFtdO1xyXG4gIGxldCB7IGRhdGEgfSA9IGN4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgZnVuY3Rpb24gaGV4KG46IG51bWJlcikge1xyXG4gICAgcmV0dXJuIG4udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgIGxldCBbciwgZywgYl0gPSBkYXRhLnNsaWNlKGksIGkgKyAzKTtcclxuICAgIHBpeGVscy5wdXNoKCcjJyArIGhleChyKSArIGhleChnKSArIGhleChiKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IFBpY3R1cmUod2lkdGgsIGhlaWdodCwgcGl4ZWxzKTtcclxufSIsImltcG9ydCB7IElTdGF0ZSwgSUNvbmZpZyB9IGZyb20gJy4vLi4vLi4vdHMvaW5kZXgnO1xyXG5pbXBvcnQgeyBlbHQgfSBmcm9tICcuLy4uLy4uL3V0aWxzL2VsdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVG9vbFNlbGVjdCB7XHJcbiAgc2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudDtcclxuICBkb206IEhUTUxFbGVtZW50O1xyXG4gIGNvbnN0cnVjdG9yKHN0YXRlOiBJU3RhdGUsIHsgdG9vbHMsIGRpc3BhdGNoIH06IElDb25maWcpIHtcclxuICAgIHRoaXMuc2VsZWN0ID0gKGVsdCgnc2VsZWN0Jywge1xyXG4gICAgICBvbmNoYW5nZTogKCkgPT4gZGlzcGF0Y2goeyB0b29sOiB0aGlzLnNlbGVjdC52YWx1ZSB9KVxyXG4gICAgfSwgLi4uT2JqZWN0LmtleXModG9vbHMpLm1hcChuYW1lID0+IGVsdCgnb3B0aW9uJywge1xyXG4gICAgICBzZWxlY3RlZDogbmFtZSA9PT0gc3RhdGUudG9vbFxyXG4gICAgfSwgbmFtZSkpKSBhcyBIVE1MU2VsZWN0RWxlbWVudCk7XHJcbiAgICB0aGlzLmRvbSA9IGVsdCgnbGFiZWwnLCBudWxsLCAn8J+WjCDQmNC90YHRgtGA0YPQvNC10L3RgjonLCB0aGlzLnNlbGVjdCk7XHJcbiAgfVxyXG5cclxuICBzeW5jU3RhdGUoc3RhdGU6IElTdGF0ZSkge1xyXG4gICAgdGhpcy5zZWxlY3QudmFsdWUgPSBzdGF0ZS50b29sO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJU3RhdGUsIElEaXNwYXRjaCwgSUNvbmZpZyB9IGZyb20gJy4vLi4vLi4vdHMvaW5kZXgnO1xyXG5pbXBvcnQgeyBlbHQgfSBmcm9tICcuLy4uLy4uL3V0aWxzL2VsdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sb3JTZWxlY3Qge1xyXG4gIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGRvbTogSFRNTEVsZW1lbnQ7XHJcbiAgY29uc3RydWN0b3Ioc3RhdGU6IElTdGF0ZSwgeyBkaXNwYXRjaCB9OiBJQ29uZmlnKSB7XHJcbiAgICB0aGlzLmlucHV0ID0gKGVsdCgnaW5wdXQnLCB7XHJcbiAgICAgIHR5cGU6ICdjb2xvcicsXHJcbiAgICAgIHZhbHVlOiBzdGF0ZS5jb2xvcixcclxuICAgICAgb25jaGFuZ2U6ICgpID0+IGRpc3BhdGNoKHsgY29sb3I6IHRoaXMuaW5wdXQudmFsdWUgfSlcclxuICAgIH0pIGFzIEhUTUxJbnB1dEVsZW1lbnQpO1xyXG4gICAgdGhpcy5kb20gPSBlbHQoJ2xhYmVsJywgbnVsbCwgJ/Cfjqgg0KbQstC10YI6JywgdGhpcy5pbnB1dClcclxuICB9XHJcblxyXG4gIHN5bmNTdGF0ZShzdGF0ZTogSVN0YXRlKTogdm9pZCB7XHJcbiAgICB0aGlzLmlucHV0LnZhbHVlID0gc3RhdGUuY29sb3I7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGNvbnN0IHNjYWxlID0gMTA7XHJcblxyXG5leHBvcnQgY29uc3QgYXJvdW5kID0gW3sgZHg6IC0xLCBkeTogMCB9LCB7IGR4OiAxLCBkeTogMCB9LCB7IGR4OiAwLCBkeTogLTEgfSwgeyBkeDogMCwgZHk6IDEgfSxdXHJcbiIsImltcG9ydCB7IFBpY3R1cmUgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9QaWN0dXJlXCJcclxuXHJcbmV4cG9ydCBjb25zdCBkcmF3UGljdHVyZSA9IChwaWN0dXJlOiBQaWN0dXJlLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBzY2FsZTogbnVtYmVyKSA9PiB7XHJcbiAgY2FudmFzLndpZHRoID0gcGljdHVyZS53aWR0aCAqIHNjYWxlO1xyXG4gIGNhbnZhcy5oZWlnaHQgPSBwaWN0dXJlLmhlaWdodCAqIHNjYWxlO1xyXG4gIGxldCBjeCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICBmb3IgKGxldCB5ID0gMDsgeSA8IHBpY3R1cmUuaGVpZ2h0OyB5KyspIHtcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgcGljdHVyZS53aWR0aDsgeCsrKSB7XHJcbiAgICAgIGN4LmZpbGxTdHlsZSA9IHBpY3R1cmUucGl4ZWwoeCwgeSk7XHJcbiAgICAgIGN4LmZpbGxSZWN0KHggKiBzY2FsZSwgeSAqIHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCB7IHNjYWxlIH0gZnJvbSAnLi8uLi9jb25zdHMnO1xyXG5pbXBvcnQgeyBJUG9zIH0gZnJvbSAnLi8uLi90cy9pbmRleCc7XHJcbmltcG9ydCB7IGVsdCB9IGZyb20gJy4uL3V0aWxzL2VsdCc7XHJcbmltcG9ydCB7IFBpY3R1cmUgfSBmcm9tICcuL1BpY3R1cmUnO1xyXG5pbXBvcnQgeyBkcmF3UGljdHVyZSB9IGZyb20gJy4uL3V0aWxzL2RyYXdQaWN0dXJlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQaWN0dXJlQ2FudmFzIHtcclxuICBkb206IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHBpY3R1cmU6IFBpY3R1cmU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBpY3R1cmU6IFBpY3R1cmUsIHBvaW50ZXJEb3duOiAocG9zOiBJUG9zKSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLmRvbSA9IGVsdCgnY2FudmFzJywge1xyXG4gICAgICBvbm1vdXNlZG93bjogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB0aGlzLm1vdXNlKGV2ZW50LCBwb2ludGVyRG93biksXHJcbiAgICAgIG9udG91Y2hzdGFydDogKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB0aGlzLnRvdWNoKGV2ZW50LCBwb2ludGVyRG93bilcclxuICAgIH0pIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICAgIHRoaXMuc3luY1N0YXRlKHBpY3R1cmUpO1xyXG4gIH1cclxuXHJcbiAgc3luY1N0YXRlKHBpY3R1cmU6IFBpY3R1cmUpIHtcclxuICAgIGlmICh0aGlzLnBpY3R1cmUgPT09IHBpY3R1cmUpIHJldHVybjtcclxuICAgIHRoaXMucGljdHVyZSA9IHBpY3R1cmU7XHJcbiAgICBkcmF3UGljdHVyZSh0aGlzLnBpY3R1cmUsIHRoaXMuZG9tLCBzY2FsZSk7XHJcbiAgfVxyXG5cclxuICBtb3VzZShkb3duRXZlbnQ6IE1vdXNlRXZlbnQsIG9uRG93bjogKHBvczogSVBvcykgPT4gYW55KSB7XHJcblxyXG4gICAgaWYgKGRvd25FdmVudC5idXR0b24gIT0gMCkgcmV0dXJuO1xyXG5cclxuICAgIGxldCBwb3MgPSBwb2ludGVyUG9zaXRpb24oZG93bkV2ZW50LCB0aGlzLmRvbSk7XHJcbiAgICBsZXQgb25Nb3ZlID0gb25Eb3duKHBvcyk7XHJcblxyXG4gICAgaWYgKCFvbk1vdmUpIHJldHVybjtcclxuXHJcbiAgICBsZXQgbW92ZSA9IChtb3ZlRXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHJcbiAgICAgIGlmIChtb3ZlRXZlbnQuYnV0dG9ucyA9PSAwKSB7XHJcbiAgICAgICAgdGhpcy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3ZlKTtcclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IG5ld1BvcyA9IHBvaW50ZXJQb3NpdGlvbihtb3ZlRXZlbnQsIHRoaXMuZG9tKTtcclxuXHJcbiAgICAgICAgaWYgKG5ld1Bvcy54ID09IHBvcy54ICYmIG5ld1Bvcy55ID09IHBvcy55KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvcyA9IG5ld1BvcztcclxuICAgICAgICBvbk1vdmUobmV3UG9zKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW92ZSk7XHJcblxyXG4gIH07XHJcblxyXG5cclxuXHJcbiAgdG91Y2goc3RhcnRFdmVudDogVG91Y2hFdmVudCwgb25Eb3duOiAocG9zOiBJUG9zKSA9PiBhbnkpIHtcclxuICAgIGxldCBwb3MgPSBwb2ludGVyUG9zaXRpb24oc3RhcnRFdmVudC50b3VjaGVzWzBdLCB0aGlzLmRvbSk7XHJcbiAgICBsZXQgb25Nb3ZlID0gb25Eb3duKHBvcyk7XHJcbiAgICBzdGFydEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKCFvbk1vdmUpIHJldHVybjtcclxuXHJcbiAgICBsZXQgbW92ZSA9IChtb3ZlRXZlbnQ6IFRvdWNoRXZlbnQpID0+IHtcclxuICAgICAgbGV0IG5ld1BvcyA9IHBvaW50ZXJQb3NpdGlvbihtb3ZlRXZlbnQudG91Y2hlc1swXSwgdGhpcy5kb20pO1xyXG5cclxuICAgICAgaWYgKG5ld1Bvcy54ID09PSBwb3MueCAmJiBuZXdQb3MueSA9PT0gcG9zLnkpIHJldHVybjtcclxuICAgICAgcG9zID0gbmV3UG9zXHJcbiAgICAgIG9uTW92ZShuZXdQb3MpO1xyXG4gICAgfTtcclxuICAgIGxldCBlbmQgPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG1vdmUpO1xyXG4gICAgICB0aGlzLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGVuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgbW92ZSk7XHJcbiAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGVuZCk7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBwb2ludGVyUG9zaXRpb24ocG9zOiAoTW91c2VFdmVudCB8IHsgY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIgfSksIGRvbU5vZGU6IEhUTUxFbGVtZW50KSB7XHJcbiAgbGV0IHJlY3QgPSBkb21Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIHJldHVybiAoe1xyXG4gICAgeDogTWF0aC5mbG9vcigocG9zLmNsaWVudFggLSByZWN0LmxlZnQpIC8gc2NhbGUpLFxyXG4gICAgeTogTWF0aC5mbG9vcigocG9zLmNsaWVudFkgLSByZWN0LnRvcCkgLyBzY2FsZSlcclxuICB9KVxyXG59IiwiaW1wb3J0IHsgSVN0YXRlLCBJQ29uZmlnLCBJUG9zIH0gZnJvbSAnLi8uLi90cy9pbmRleCc7XHJcbmltcG9ydCB7IGVsdCB9IGZyb20gJy4uL3V0aWxzL2VsdCc7XHJcbmltcG9ydCB7IFBpY3R1cmVDYW52YXMgfSBmcm9tIFwiLi9DYW52YXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQaXhlbEVkaXRvciB7XHJcbiAgc3RhdGU6IElTdGF0ZTtcclxuICBjYW52YXM6IFBpY3R1cmVDYW52YXM7XHJcbiAgY29udHJvbHM6IGFueVtdO1xyXG4gIGRvbTogSFRNTEVsZW1lbnQ7XHJcbiAgY29uc3RydWN0b3Ioc3RhdGU6IElTdGF0ZSwgY29uZmlnOiBJQ29uZmlnKSB7XHJcbiAgICBsZXQgeyB0b29scywgY29udHJvbHMsIGRpc3BhdGNoIH0gPSBjb25maWc7XHJcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XHJcblxyXG4gICAgdGhpcy5jYW52YXMgPSBuZXcgUGljdHVyZUNhbnZhcyhzdGF0ZS5waWN0dXJlLCAocG9zOiBJUG9zKSA9PiB7XHJcbiAgICAgIGxldCB0b29sID0gdG9vbHNbdGhpcy5zdGF0ZS50b29sXTtcclxuICAgICAgbGV0IG9uTW92ZSA9IHRvb2wocG9zLCB0aGlzLnN0YXRlLCBkaXNwYXRjaCk7XHJcblxyXG4gICAgICBpZiAob25Nb3ZlKSB7XHJcbiAgICAgICAgcmV0dXJuIChwb3M6IElQb3MpID0+IG9uTW92ZShwb3MsIHRoaXMuc3RhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY29udHJvbHMgPSBjb250cm9scy5tYXAoXHJcbiAgICAgIENvbnRyb2wgPT4gbmV3IENvbnRyb2woc3RhdGUsIGNvbmZpZylcclxuICAgICk7XHJcbiAgICB0aGlzLmRvbSA9IGVsdCgnZGl2Jywge30sIHRoaXMuY2FudmFzLmRvbSwgZWx0KCdicicsIHt9KSwgLi4udGhpcy5jb250cm9scy5yZWR1Y2UoKGEsIGMpID0+IGEuY29uY2F0KCcgJywgYy5kb20pLCBbXSkpO1xyXG4gIH1cclxuXHJcbiAgc3luY1N0YXRlKHN0YXRlOiBJU3RhdGUpIHtcclxuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcclxuICAgIHRoaXMuY2FudmFzLnN5bmNTdGF0ZShzdGF0ZS5waWN0dXJlKTtcclxuICAgIGZvciAobGV0IGN0cmwgb2YgdGhpcy5jb250cm9scykgY3RybC5zeW5jU3RhdGUoc3RhdGUpO1xyXG4gIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgSVN0YXRlIH0gZnJvbSAnLi8uLi90cy9pbmRleCc7XHJcbmltcG9ydCB7IGVsdCB9IGZyb20gJy4vLi4vdXRpbHMvZWx0JztcclxuaW1wb3J0IHsgZHJhd1BpY3R1cmUgfSBmcm9tICcuLi91dGlscy9kcmF3UGljdHVyZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2F2ZUJ1dHRvbiB7XHJcbiAgcGljdHVyZTogYW55O1xyXG4gIGRvbTogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgY29uc3RydWN0b3Ioc3RhdGU6IElTdGF0ZSkge1xyXG4gICAgdGhpcy5waWN0dXJlID0gc3RhdGUucGljdHVyZTtcclxuICAgIHRoaXMuZG9tID0gKGVsdCgnYnV0dG9uJywge1xyXG4gICAgICBvbmNsaWNrOiAoKSA9PiB0aGlzLnNhdmUoKVxyXG4gICAgfSwgJ/Cfkr4g0KHQvtGF0YDQsNC90LjRgtGMOiAnKSBhcyBIVE1MQnV0dG9uRWxlbWVudClcclxuICB9XHJcblxyXG4gIHNhdmUoKSB7XHJcbiAgICBsZXQgY2FudmFzID0gKGVsdCgnY2FudmFzJywge30pIGFzIEhUTUxDYW52YXNFbGVtZW50KTtcclxuICAgIGRyYXdQaWN0dXJlKHRoaXMucGljdHVyZSwgY2FudmFzLCAxKTtcclxuICAgIGxldCBsaW5rID0gZWx0KCdhJywge1xyXG4gICAgICBocmVmOiBjYW52YXMudG9EYXRhVVJMKCksXHJcbiAgICAgIGRvd25sb2FkOiAncGl4ZWxhcnQucG5nJ1xyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgbGluay5jbGljaygpO1xyXG4gICAgbGluay5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIHN5bmNTdGF0ZShzdGF0ZTogSVN0YXRlKSB7XHJcbiAgICB0aGlzLnBpY3R1cmUgPSBzdGF0ZS5waWN0dXJlXHJcbiAgfVxyXG59ICIsImltcG9ydCB7IFVuZG9CdXR0b24sIGhpc3RvcnlVcGRhdGVTdGF0ZSB9IGZyb20gJy4vc3JjL2hpc3RvcnkvaW5kZXgnO1xyXG5pbXBvcnQgeyBMb2FkQnV0dG9uIH0gZnJvbSAnLi9zcmMvU2F2ZUFuZExvYWQvTG9hZCc7XHJcbmltcG9ydCB7IHVwZGF0ZVN0YXRlIH0gZnJvbSAnLi9zcmMvc3RhdGUvdXBkYXRlU3RhdGUnO1xyXG5pbXBvcnQgeyBUb29sU2VsZWN0IH0gZnJvbSAnLi9zcmMvQ29tcG9uZW50cy9Ub29scy9Ub29sU2VsZWN0JztcclxuaW1wb3J0IHsgQ29sb3JTZWxlY3QgfSBmcm9tICcuL3NyYy9Db21wb25lbnRzL1Rvb2xzL0NvbG9yU2VsZWN0JztcclxuaW1wb3J0IHsgcGljayB9IGZyb20gJy4vc3JjL0NvbXBvbmVudHMvVG9vbHMvcGlja0NvbG9yJztcclxuaW1wb3J0IHsgcmVjdGFuZ2xlIH0gZnJvbSAnLi9zcmMvQ29tcG9uZW50cy9Ub29scy9yZWN0YW5nbGUnO1xyXG5pbXBvcnQgeyBmaWxsIH0gZnJvbSAnLi9zcmMvQ29tcG9uZW50cy9Ub29scy9maWxsJztcclxuaW1wb3J0IHsgZHJhdyB9IGZyb20gJy4vc3JjL0NvbXBvbmVudHMvVG9vbHMvZHJhdyc7XHJcbmltcG9ydCB7IFBpeGVsRWRpdG9yIH0gZnJvbSAnLi9zcmMvQ29tcG9uZW50cy9QaXhlbEVkaXRvcic7XHJcbmltcG9ydCB7IFBpY3R1cmUgfSBmcm9tICcuL3NyYy9Db21wb25lbnRzL1BpY3R1cmUnO1xyXG5pbXBvcnQgeyBJQWN0aW9uIH0gZnJvbSAnLi9zcmMvdHMnO1xyXG5pbXBvcnQgeyBTYXZlQnV0dG9uIH0gZnJvbSAnLi9zcmMvU2F2ZUFuZExvYWQvU2F2ZSc7XHJcblxyXG5sZXQgc3RhdGUgPSB7XHJcbiAgdG9vbDogXCJkcmF3XCIsXHJcbiAgY29sb3I6IFwiIzAwMDAwMFwiLFxyXG4gIHBpY3R1cmU6IFBpY3R1cmUuZW1wdHkoNjAsIDMwLCBcIiNmMGYwZjBcIiksXHJcbiAgZG9uZTogW10sXHJcbiAgZG9uZUF0OiAwLFxyXG59O1xyXG5cclxuY29uc3QgYmFzZVRvb2xzID0geyBkcmF3LCBmaWxsLCByZWN0YW5nbGUsIHBpY2sgfVxyXG5cclxuY29uc3QgYmFzZUNvbnRyb2xzID0gW1Rvb2xTZWxlY3QsIENvbG9yU2VsZWN0LCBTYXZlQnV0dG9uLCBMb2FkQnV0dG9uLCBVbmRvQnV0dG9uXTtcclxuXHJcbmZ1bmN0aW9uIHN0YXJ0UGl4ZWxFZGl0b3Ioe1xyXG4gIHN0YXRlOiBJU3RhdGUgPSBzdGF0ZSxcclxuICB0b29scyA9IGJhc2VUb29scyxcclxuICBjb250cm9scyA9IGJhc2VDb250cm9sc1xyXG59KSB7XHJcbiAgbGV0IGFwcCA9IG5ldyBQaXhlbEVkaXRvcihzdGF0ZSwge1xyXG4gICAgdG9vbHMsXHJcbiAgICBjb250cm9scyxcclxuICAgIGRpc3BhdGNoKGFjdGlvbjogSUFjdGlvbikge1xyXG4gICAgICBzdGF0ZSA9IGhpc3RvcnlVcGRhdGVTdGF0ZShzdGF0ZSwgYWN0aW9uKTtcclxuICAgICAgYXBwLnN5bmNTdGF0ZShzdGF0ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBhcHAuZG9tO1xyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpLmFwcGVuZENoaWxkKHN0YXJ0UGl4ZWxFZGl0b3Ioe30pKTsiLCJpbXBvcnQgeyBJU3RhdGUsIElQb3MsIElEaXNwYXRjaCB9IGZyb20gJy4vLi4vLi4vdHMvaW5kZXgnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRyYXcgPSAocG9zOiBJUG9zLCBzdGF0ZTogSVN0YXRlLCBkaXNwYXRjaDogSURpc3BhdGNoKSA9PiB7XHJcbiAgZnVuY3Rpb24gZHJhd1BpeGVsKHsgeCwgeSB9OiBJUG9zLCBzdGF0ZTogSVN0YXRlKSB7XHJcbiAgICBsZXQgZHJhd24gPSB7IHgsIHksIGNvbG9yOiBzdGF0ZS5jb2xvciB9O1xyXG4gICAgZGlzcGF0Y2goeyBwaWN0dXJlOiBzdGF0ZS5waWN0dXJlLmRyYXcoW2RyYXduXSkgfSk7XHJcbiAgfVxyXG4gIGRyYXdQaXhlbChwb3MsIHN0YXRlKTtcclxuXHJcbiAgcmV0dXJuIGRyYXdQaXhlbDtcclxufSIsImltcG9ydCB7IElTdGF0ZSwgSURpc3BhdGNoLCBJUG9zIH0gZnJvbSAnLi8uLi8uLi90cy9pbmRleCc7XHJcbmltcG9ydCB7IGFyb3VuZCB9IGZyb20gXCIuLi8uLi9jb25zdHNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBmaWxsID0gKHsgeCwgeSB9OiBJUG9zLCBzdGF0ZTogSVN0YXRlLCBkaXNwYXRjaDogSURpc3BhdGNoKSA9PiB7XHJcbiAgbGV0IHRhcmdldENvbG9yID0gc3RhdGUucGljdHVyZS5waXhlbCh4LCB5KTtcclxuICBsZXQgZHJhd24gPSBbeyB4LCB5LCBjb2xvcjogc3RhdGUuY29sb3IgfV07XHJcblxyXG4gIGZvciAobGV0IGRvbmUgPSAwOyBkb25lIDwgZHJhd24ubGVuZ3RoOyBkb25lKyspIHtcclxuICAgIGZvciAoY29uc3QgeyBkeCwgZHkgfSBvZiBhcm91bmQpIHtcclxuICAgICAgbGV0IHggPSBkcmF3bltkb25lXS54ICsgZHg7XHJcbiAgICAgIGxldCB5ID0gZHJhd25bZG9uZV0ueSArIGR5O1xyXG5cclxuICAgICAgaWYgKHggPj0gMCAmJiB4IDwgc3RhdGUucGljdHVyZS53aWR0aCAmJlxyXG4gICAgICAgIHkgPj0gMCAmJiB5IDwgc3RhdGUucGljdHVyZS5oZWlnaHQgJiZcclxuICAgICAgICBzdGF0ZS5waWN0dXJlLnBpeGVsKHgsIHkpID09PSB0YXJnZXRDb2xvciAmJlxyXG4gICAgICAgICFkcmF3bi5zb21lKHAgPT4gcC54ID09PSB4ICYmIHAueSA9PT0geSkpIHtcclxuICAgICAgICBkcmF3bi5wdXNoKHsgeCwgeSwgY29sb3I6IHN0YXRlLmNvbG9yIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRpc3BhdGNoKHsgcGljdHVyZTogc3RhdGUucGljdHVyZS5kcmF3KGRyYXduKSB9KTtcclxufSIsImltcG9ydCB7IElQb3MsIElTdGF0ZSwgSURpc3BhdGNoIH0gZnJvbSAnLi8uLi8uLi90cy9pbmRleCc7XHJcblxyXG5leHBvcnQgY29uc3QgcmVjdGFuZ2xlID0gKHN0YXJ0OiBJUG9zLCBzdGF0ZTogSVN0YXRlLCBkaXNwYXRjaDogSURpc3BhdGNoKSA9PiB7XHJcbiAgZnVuY3Rpb24gZHJhd1JlY3RhbmdsZShwb3M6IElQb3MpIHtcclxuICAgIGxldCB4U3RhcnQgPSBNYXRoLm1pbihzdGFydC54LCBwb3MueCk7XHJcbiAgICBsZXQgeVN0YXJ0ID0gTWF0aC5taW4oc3RhcnQueSwgcG9zLnkpO1xyXG4gICAgbGV0IHhFbmQgPSBNYXRoLm1heChzdGFydC54LCBwb3MueCk7XHJcbiAgICBsZXQgeUVuZCA9IE1hdGgubWF4KHN0YXJ0LnksIHBvcy55KTtcclxuXHJcbiAgICBsZXQgZHJhd24gPSBbXTtcclxuICAgIGZvciAobGV0IHkgPSB5U3RhcnQ7IHkgPD0geUVuZDsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHggPSB4U3RhcnQ7IHggPD0geEVuZDsgeCsrKSB7XHJcbiAgICAgICAgZHJhd24ucHVzaCh7IHgsIHksIGNvbG9yOiBzdGF0ZS5jb2xvciB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBkaXNwYXRjaCh7IHBpY3R1cmU6IHN0YXRlLnBpY3R1cmUuZHJhdyhkcmF3bikgfSk7XHJcbiAgfVxyXG4gIGRyYXdSZWN0YW5nbGUoc3RhcnQpO1xyXG4gIHJldHVybiBkcmF3UmVjdGFuZ2xlO1xyXG59IiwiaW1wb3J0IHsgSVBvcywgSVN0YXRlLCBJRGlzcGF0Y2ggfSBmcm9tICcuLy4uLy4uL3RzL2luZGV4JztcclxuXHJcbmV4cG9ydCBjb25zdCBwaWNrID0gKHBvczogSVBvcywgc3RhdGU6IElTdGF0ZSwgZGlzcGF0Y2g6IElEaXNwYXRjaCkgPT4ge1xyXG4gIGRpc3BhdGNoKHsgY29sb3I6IChzdGF0ZS5waWN0dXJlLnBpeGVsKHBvcy54LCBwb3MueSkgYXMgc3RyaW5nKSB9KTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=